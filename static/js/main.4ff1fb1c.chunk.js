(this.webpackJsonpziemiomorze=this.webpackJsonpziemiomorze||[]).push([[0],{103:function(e,t,a){e.exports=a.p+"static/media/cool.a91f9f61.png"},135:function(e,t,a){e.exports=a.p+"static/media/cool2.868e99e7.png"},262:function(e,t,a){e.exports=a(502)},267:function(e,t,a){},502:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(19),o=a.n(r),c=(a(267),a(268),a(58)),i=a.n(c),s="https://rafsaf2.eu.pythonanywhere.com/",m="https://rafsaf2.eu.pythonanywhere.com/api/";function u(e){var t=e.height?e.height:400,a=e.color?e.color:"white",n=e.background?e.background:"#1C7C73",r=e.Image?"linear-gradient(90deg, rgba(0,42,50,1) 0%, rgba(9,100,121,1) 66%, rgba(26,151,161,1) 100%)":"none",o=e.font?e.font:"Oswald, sans-serif",c=e.left,i=e.right,s=e.size?e.size:"normal";return l.a.createElement("table",{style:{width:"100%",fontSize:s,minHeight:t,color:a,backgroundColor:n,backgroundImage:r,fontFamily:o},className:"text-center"},l.a.createElement("tbody",null,l.a.createElement("tr",{className:"align-middle"},l.a.createElement("td",null,c,i))))}var d=a(145),p=a(108),g=a(22),h=a(44),y=a(14),f=a(109),b=a(66),E=a(65),k=a(103),w=a.n(k),v=function(e){var t=e.src,a=e.className,r=Object(n.useState)(!0),o=Object(y.a)(r,2),c=o[0],i=o[1],s=Object(n.useState)("https://vignette.wikia.nocookie.net/arda/images/5/5a/Earthsea.jpg/revision/latest/top-crop/width/360/height/450?cb=20200125094031&path-prefix=pl"),m=Object(y.a)(s,2),u=m[0],d=m[1];return Object(n.useEffect)((function(){var e=new Image;e.src=t,e.complete?(i(!1),d(t)):e.onload=function(){i(!1),d(t)}}),[t]),l.a.createElement("img",{style:{opacity:c?.2:1,transition:"opacity .15s linear"},className:a,src:u,alt:"Picture"})};function z(e){var t,a=e.small?"px-1 py-2 my-2 col-6 col-md-3 col-xl-2":null,n=e.fullWidth?" my-2 col-6 col-lg-12 ":null,r=e.homeWidth?"px-1 py-2 my-2 col-6 col-lg-3":null;return a?(t=a,!1):n?(t=n,!1):r&&(t=r,!0),l.a.createElement(f.a,{className:t,style:{backgroundImage:"url(".concat(w.a,")")}},l.a.createElement(f.a.Header,{style:{backgroundImage:"url(".concat(w.a,")"),color:"black",height:"5rem"}},l.a.createElement("h1",{className:"title"},e.title)),l.a.createElement(f.a.Body,{style:{paddingLeft:"0",paddingRight:"0"}},l.a.createElement("div",{className:"text-center"},e.image?l.a.createElement(v,{className:"cardImage rounded",src:s+e.image}):null),l.a.createElement("div",{style:{paddingLeft:"1vh",paddingRight:"0"}},l.a.createElement("blockquote",{className:"blockquote mt-2"},l.a.createElement("footer",{className:"blockquote-footer",style:{color:"revert"}},e.description)),l.a.createElement(E.a,{color:"#002a32",icon:b.a})," ",l.a.createElement(f.a.Link,{className:"read-more",as:h.b,to:"/"+e.slug},"Czytaj dalej..."))))}var j=a(68),C=a(48),N=a(136),S=a(64),O=a(243),x=a(537);function T(e){return!0===e.show?l.a.createElement("div",{className:"d-flex justify-content-center my-4"},l.a.createElement(S.a,{className:"w-auto",variant:"danger",onClose:e.onExit},l.a.createElement(S.a.Heading,{className:"text-center"},"Wyst\u0105pi\u0142 b\u0142\u0105d podczas po\u0142\u0105czenia"),l.a.createElement("p",null,"Kliknij poni\u017cej by spr\xf3bowa\u0107 ponownie"),l.a.createElement("p",null),l.a.createElement(O.a,{onClick:e.onExit,variant:"outline-info"},"Spr\xf3buj ponownie"))):null===e.show?l.a.createElement(x.a,{color:"primary"}):null}var I=a(135),L=a.n(I);function R(){var e=l.a.createElement("div",{className:"ursula"},"Encyklopedia uniwersum Ziemiomorza autorstwa Ursuli Le Guin."),t=Object(n.useState)(null),a=Object(y.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(null),s=Object(y.a)(c,2),d=s[0],p=s[1],g=Object(n.useState)(null),h=Object(y.a)(g,2),f=h[0],b=h[1],E=function(){i.a.get("".concat(m,"article/?format=json&main_page=true")).then((function(e){o(e.data)})).catch((function(){b(!0)}))},k=function(){i.a.get("".concat(m,"article/?format=json&latest=true")).then((function(e){p(e.data),b(!1)})).catch((function(){b(!0)}))};return Object(n.useEffect)((function(){E(),k()}),[]),l.a.createElement("div",{id:"home-page container-fluid"},l.a.createElement(u,{Image:!0,size:"larger",height:"100px",right:e}),l.a.createElement(N.a,{fluid:!0,style:{backgroundImage:"url(".concat(L.a,")"),minHeight:"80vh"}},r&&d&&!1===f?l.a.createElement(j.a,{className:" mx-1 py-4 justify-content-center"},l.a.createElement(C.a,{xs:12,xl:{span:8,offset:1}},l.a.createElement(j.a,{className:"py-2 justify-content-center"},r.map((function(e){return l.a.createElement(z,{homeWidth:!0,key:e.description,title:e.title,description:e.description,image:e.image,slug:e.slug})})))),l.a.createElement(C.a,{xs:12,xl:2},l.a.createElement("div",{className:"d-none d-xl-block pl-4"},l.a.createElement(j.a,{className:"justify-content-center py-5"},l.a.createElement(C.a,{xs:12,className:"py-3 news"},l.a.createElement(u,{Image:!0,height:"10px",left:l.a.createElement("div",{className:"ursula"},"Najnowsze"),size:"xx-large"})),d.map((function(e){return l.a.createElement(z,{fullWidth:!0,key:e.description,title:e.title,description:e.description,image:e.image,slug:e.slug})})))),l.a.createElement("div",{className:"d-block d-xl-none"},l.a.createElement(j.a,{className:"justify-content-center py-5"},l.a.createElement(C.a,{xs:12,className:"news"},l.a.createElement(u,{Image:!0,height:"10px",left:l.a.createElement("div",{className:"ursula w-100"},"Najnowsze"),size:"xx-large"})),d.map((function(e){return l.a.createElement(z,{fullWidth:!0,key:e.description,title:e.title,description:e.description,image:e.image,slug:e.slug})})))))):l.a.createElement("div",{className:"text-center pt-4",style:{height:"80vh"}},l.a.createElement(T,{show:f,onExit:function(){b(null),E(),k()}}))))}var W=a(250),A=a(69),M=a(81),F=a(25),B=a(33),K=a(550),U=a(548),D=a(552),V=a(553),H=a(551);function Z(e){return l.a.createElement("div",{className:"my-3 mx-1"},l.a.createElement(H.a,{component:"fieldset"},l.a.createElement(D.a,{row:!0,"aria-label":"filter",name:"filter",value:e.filter,onChange:e.handleChange},l.a.createElement(V.a,{value:"all",control:l.a.createElement(U.a,{size:"small",color:"primary"}),label:"Szukaj wsz\u0119dzie"}),l.a.createElement(V.a,{value:"title",control:l.a.createElement(U.a,{size:"small",color:"primary"}),label:"Tylko tytu\u0142y"}),l.a.createElement(V.a,{value:"description",control:l.a.createElement(U.a,{size:"small",color:"primary"}),label:"Tylko opisy"}))))}var q=a(503),P=a(541),G=a(542),_=a(549);function J(e){return l.a.createElement("div",{className:""},l.a.createElement(H.a,{component:"fieldset",className:""},l.a.createElement(q.a,{component:"legend"}," ",e.search),l.a.createElement(V.a,{control:l.a.createElement(G.a,{className:"mb-0",checked:e.verifiedOnly,onChange:e.handleVerifiedOnlyChange,name:"switchVerfified",color:"primary",size:"small"})}),e.verifiedOnly?l.a.createElement("p",{className:"small mt-0 py-0"},"Tylko zweryfikowane"):l.a.createElement("p",{className:"small mt-0 py-0"},"Wszystkie artyku\u0142y"),l.a.createElement("p",{className:"title"},"Kategorie"),l.a.createElement(P.a,null,l.a.createElement(V.a,{key:e.allCheck.name,control:l.a.createElement(_.a,{size:"small",color:"primary",checked:e.allCheck.isChecked,onChange:e.handleAllCategoryChange,name:e.allCheck.name}),label:e.allCheck.label}),e.categories.map((function(t){return l.a.createElement(V.a,{key:t.name,control:l.a.createElement(_.a,{size:"small",color:"primary",checked:t.isChecked,onChange:e.handleCategoryChange,name:t.name}),label:t.label})})))))}var Y=[{label:"Artyku\u0142y",name:"Artyku\u0142y",isChecked:!0},{label:"Postacie",name:"Postacie",isChecked:!0},{label:"Miejsca",name:"Miejsca",isChecked:!0},{label:"Przedmioty",name:"Przedmioty",isChecked:!0},{label:"Stworzenia",name:"Stworzenia",isChecked:!0},{label:"Ksi\u0105\u017cki/Filmy",name:"Ksi\u0105\u017cki/Filmy",isChecked:!0},{label:"Inne",name:"Inne",isChecked:!0}],$=[{label:"Wszystkie",name:"Wszystkie",isChecked:!0}];function Q(){var e=Object(n.useState)([].concat(Y)),t=Object(y.a)(e,2),a=t[0],r=t[1],o=n.useState.apply(void 0,$),c=Object(y.a)(o,2),s=c[0],d=c[1],p=Object(n.useState)(!0),g=Object(y.a)(p,2),h=g[0],f=g[1],b=Object(n.useState)("all"),E=Object(y.a)(b,2),k=E[0],w=E[1],v=Object(n.useState)(null),S=Object(y.a)(v,2),O=S[0],x=S[1],I=Object(n.useState)(null),R=Object(y.a)(I,2),W=R[0],A=R[1],M=Object(n.useState)(null),F=Object(y.a)(M,2),U=F[0],D=F[1],V=function(){i.a.get("".concat(m,"article/?format=json")).then((function(e){A(e.data),D(!1)})).catch((function(){D(!0)}))};Object(n.useEffect)((function(){V()}),[]),Object(n.useEffect)((function(){if(9===s.label.length&&W){var e=W.length,t=s;t.label+="(".concat(e,")"),d(t)}}),[s,W]),Object(n.useEffect)((function(){if(8===a[0].label.length&&W){var e=Object(B.a)(a);e.forEach((function(e){var t;t=W.filter((function(t){return t.category===e.name})).length,e.label+="(".concat(t,")")})),r(e)}}),[a,W]);var H=l.a.createElement("div",{className:"ursula"},"\u015awiat przedstawiony");return l.a.createElement("div",{id:"characters"},l.a.createElement(u,{Image:!0,size:"larger",height:"100px",right:H}),l.a.createElement(N.a,{fluid:!0,style:{minHeight:"80vh",backgroundImage:"url(".concat(L.a,")")}},W&&!1===U?l.a.createElement(j.a,{className:"justify-content-center py-3 mb-5"},l.a.createElement(C.a,{xs:"auto"},l.a.createElement(J,{allCheck:s,categories:a,verifiedOnly:h,handleAllCategoryChange:function(e){var t=s;t.isChecked=e.target.checked,d(t);var n=Object(B.a)(a);n.forEach((function(t){!0===e.target.checked&&(t.isChecked=e.target.checked)})),r(n)},handleCategoryChange:function(e){if(!e.target.checked){var t=s;t.isChecked=e.target.checked,d(t)}var n=Object(B.a)(a);n.forEach((function(t){t.name===e.target.name&&(t.isChecked=e.target.checked)})),r(n)},handleVerifiedOnlyChange:function(){f(!h)}})),l.a.createElement(C.a,{xs:"auto",lg:10,className:"border-world"},l.a.createElement(K.a,{onChange:function(e){return function(e){var t=e.target.value;x(t)}(e)},className:"mx-1 mt-4 mb-2",style:{width:"99%"},id:"standard-basic",label:"Tutaj wpisz szukan\u0105 fraz\u0119..."}),l.a.createElement(Z,{className:"mx-1",filter:k,handleChange:function(e){w(e.target.value)}}),l.a.createElement(j.a,{className:"justify-content-start mx-1"},W.filter((function(e){return!h||e.confirmed})).filter((function(e){return s.isChecked?e:1===a.filter((function(t){return t.name===e.category&&t.isChecked})).length})).filter((function(e){return null==O?e:!!function(e){return"description"===k?e.description.toLowerCase().includes(O.toLowerCase()):"title"===k?e.title.toLowerCase().includes(O.toLowerCase()):e.title.toLowerCase().includes(O.toLowerCase())||e.description.toLowerCase().includes(O.toLowerCase())}(e)})).map((function(e){return l.a.createElement(z,{small:!0,key:e.description,title:e.title,description:e.description,slug:e.slug})}))))):l.a.createElement("div",{className:"text-center pt-4",style:{height:"80vh"}},l.a.createElement(T,{show:U,onExit:function(){D(null),V()}}))))}var X={error:"B\u0142\u0105d po\u0142\u0105czenia",title:"Nazwa artyku\u0142u",slug:"Adres URL artyku\u0142u (slug)",author:"Autor",description:"Kr\xf3tki opis artyku\u0142u",category:"Wybierz kategori\u0119"},ee=M.a().shape({title:M.b().min(3,"Tekst nie mo\u017ce by\u0107 kr\xf3tszy ni\u017c 3 znaki.").max(24,"Tekst nie mo\u017ce by\u0107 d\u0142u\u017cszy ni\u017c 24 znak\xf3w.").matches(/^[\sAa\u0104\u0105BbCc\u0106\u0107DdEe\u0118\u0119FfGgHhIiJjKkLl\u0141\u0142MmNn\u0143\u0144Oo\xd3\xf3PpRrQqSs\u015a\u015bTtUuWwYyZz\u0179\u017a\u017b\u017c:();/.,!'"?!/]+$/,"Dozwolone tylko ma\u0142e, du\u017ce litery, podstawowe znaki interpunkcyjne.").required("To pole jest wymagane."),slug:M.b().min(3,"Tekst nie mo\u017ce by\u0107 kr\xf3tszy ni\u017c 3 znaki.").max(100,"Tekst nie mo\u017ce by\u0107 d\u0142u\u017cszy ni\u017c 100 znak\xf3w.").matches(/^[a-z](-?[a-z])*$/,"Dozwolone tylko [a-z]-[a-z]-[...] itd. Na przyk\u0142ad \u201eczarnoksieznik-z-archipelagu\u201d.").required("To pole jest wymagane."),author:M.b().min(3,"Tekst nie mo\u017ce by\u0107 kr\xf3tszy ni\u017c 3 znaki.").max(24,"Tekst nie mo\u017ce by\u0107 d\u0142u\u017cszy ni\u017c 24 znak\xf3w.").matches(/^[\sAa\u0104\u0105BbCc\u0106\u0107DdEe\u0118\u0119FfGgHhIiJjKkLl\u0141\u0142MmNn\u0143\u0144Oo\xd3\xf3PpRrQqSs\u015a\u015bTtUuWwYyZz\u0179\u017a\u017b\u017c:();/.,!'"?!/]+$/,"Dozwolone tylko ma\u0142e, du\u017ce litery, podstawowe znaki interpunkcyjne.").required("To pole jest wymagane."),description:M.b().min(50,"Tekst nie mo\u017ce by\u0107 kr\xf3tszy ni\u017c 50 znak\xf3w.").max(160,"Tekst nie mo\u017ce by\u0107 d\u0142u\u017cszy ni\u017c 160 znak\xf3w.").matches(/^[\sAa\u0104\u0105BbCc\u0106\u0107DdEe\u0118\u0119FfGgHhIiJjKkLl\u0141\u0142MmNn\u0143\u0144Oo\xd3\xf3PpRrQqSs\u015a\u015bTtUuWwYyZz\u0179\u017a\u017b\u017c:();/.,!'"?!/]+$/,"Dozwolone tylko ma\u0142e, du\u017ce litery, podstawowe znaki interpunkcyjne.").required("To pole jest wymagane."),category:M.b().max(100).required("To pole jest wymagane.")});function te(){var e=Object(n.useState)(null),t=Object(y.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(null),c=Object(y.a)(o,2),s=c[0],u=c[1],d=Object(n.useState)(!1),p=Object(y.a)(d,2),g=p[0],f=p[1];return l.a.createElement("div",{id:"new article",style:{minHeight:"80vh"}},l.a.createElement("div",{className:"container my-5 py-3"},l.a.createElement("h2",{className:"py-4"},"Utw\xf3rz nowy artyku\u0142"),a?Object.keys(a).map((function(e){return l.a.createElement(S.a,{className:"mt-3",show:!0,key:e,variant:"danger",dismissible:!0,onClose:function(){var t=Object(W.a)({},a);delete t[e],r(t)}},l.a.createElement("p",null,l.a.createElement("b",null,X[e]),": ",a[e]))})):null,s?l.a.createElement(S.a,{className:"mt-3",show:!0,variant:"success",dismissible:!0,onClose:function(){u(null)}},l.a.createElement("p",null,l.a.createElement("b",null,"Artyku\u0142 pomy\u015blnie utworzony!")),l.a.createElement(h.b,{to:"/"+s},"Kliknij by przej\u015b\u0107 do artyku\u0142u")):null,l.a.createElement(A.c,{initialValues:{title:"",slug:"",author:"",description:"",category:"Artyku\u0142y"},validationSchema:ee,onSubmit:function(e,t){var a=t.resetForm;f(!0),function(e){return i.a.post("".concat(m,"article/?format=json"),e)}({title:e.title,slug:e.slug,author:e.author,description:e.description,category:e.category}).then((function(e){u(e.data.slug),a({}),f(!1)})).catch((function(e){e.response?r(e.response.data):r({error:"Nie uda\u0142o si\u0119 wys\u0142a\u0107 formularza, spr\xf3buj ponownie."}),f(!1)}))}},(function(e){var t=e.errors,a=e.touched;return l.a.createElement(A.b,{noValidate:!0,autoComplete:"off"},l.a.createElement(F.a.Group,{controlId:"validationCustom01"},l.a.createElement(F.a.Label,null,X.title),l.a.createElement(A.a,{as:F.a.Control,name:"title",isValid:a.title&&!t.title,isInvalid:a.title&&t.title}),t.title&&a.title?l.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.title):null),l.a.createElement(F.a.Group,{controlId:"validationCustom02"},l.a.createElement(F.a.Label,null,X.slug),l.a.createElement(A.a,{as:F.a.Control,name:"slug",isValid:a.slug&&!t.slug,isInvalid:a.slug&&t.slug}),t.slug&&a.slug?l.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.slug):null),l.a.createElement(F.a.Group,{controlId:"validationCustom03"},l.a.createElement(F.a.Label,null,X.author),l.a.createElement(A.a,{as:F.a.Control,name:"author",isValid:a.author&&!t.author,isInvalid:a.author&&t.author}),t.author&&a.author?l.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.author):null),l.a.createElement(F.a.Group,{controlId:"validationCustom04"},l.a.createElement(F.a.Label,null,X.description),l.a.createElement(A.a,{as:F.a.Control,name:"description",isValid:a.description&&!t.description,isInvalid:a.description&&t.description}),t.description&&a.description?l.a.createElement(F.a.Control.Feedback,{type:"invalid"},t.description):null),l.a.createElement(F.a.Group,{controlId:"validationCustom05"},l.a.createElement(F.a.Label,null,X.category),l.a.createElement(F.a.Control,{as:A.a,component:"select",name:"category",isInvalid:a.category&&t.category},Y.map((function(e){return l.a.createElement("option",null,e.name)}))),t.category&&a.category?l.a.createElement("div",null,t.category):null),l.a.createElement("button",{className:"btn btn-primary my-2 mb-5",type:"submit",disabled:g},"Utw\xf3rz"))}))))}var ae=a(15),ne=a(16),le=a(28),re=a(29),oe=a(546),ce=a(545),ie=a(547),se=Object(oe.a)((function(e){return{formControl:{width:"100%",marginBottom:"1%"},greenLabel:{color:"green"},redLabel:{color:"red"}}}));function me(e){var t=se(),a=Object(n.useState)(e.allVersions[0].created),r=Object(y.a)(a,2),o=r[0],c=r[1];return l.a.createElement("div",{className:"w-100"},l.a.createElement(H.a,{className:t.formControl},l.a.createElement(ce.a,{htmlFor:"grouped-native-select"},"Wersje artyku\u0142u"),l.a.createElement(ie.a,{value:o,onChange:function(t){c(t.target.value),e.onChange(t.target.value)},native:!0,id:"grouped-native-select"},l.a.createElement("optgroup",{className:t.greenLabel,label:"Zweryfikowane"},e.allVersions.filter((function(e){return e.confirm})).map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.created)}))),l.a.createElement("optgroup",{className:t.redLabel,label:"Uwaga! Niezweryfikowane"},e.allVersions.filter((function(e){return!e.confirm})).map((function(e){return l.a.createElement("option",{key:e.id,value:e.id},e.created)}))))))}var ue=a(10),de=a(168),pe=a.n(de),ge=a(249),he=a.n(ge),ye=a(93);a(501);function fe(){var e=Object(g.g)().topicName,t=Object(n.useState)(),a=Object(y.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(),s=Object(y.a)(c,2),d=s[0],p=s[1],h=Object(n.useState)(),f=Object(y.a)(h,2),b=f[0],E=f[1],k=Object(n.useState)(null),v=Object(y.a)(k,2),z=v[0],j=v[1],C=function(){var t;(t=e,i.a.get("".concat(m,"article/").concat(t,"/?format=json"))).then((function(e){o(e.data)})).catch((function(e){e.response?j("notFound"):j(!0)}))},N=function(){var t;(t=e,i.a.get("".concat(m,"article/version/").concat(t,"/?format=json"))).then((function(e){E(e.data),p(e.data[0]),j(!1)})).catch((function(e){e.response.status?j("notFound"):(alert("asd"),j(!0))}))};Object(n.useEffect)((function(){C()}),[]),Object(n.useEffect)((function(){N()}),[]);return"notFound"!==z?l.a.createElement("div",{id:"new article",style:{paddingTop:"",backgroundImage:"url(".concat(w.a,")"),fontFamily:"Oswald, sans-serif",width:"100%",paddingRight:15,paddingLeft:15,marginRight:"auto",marginLeft:"auto"}},l.a.createElement("div",null,!z&&r&&d?l.a.createElement(Ee,{fetchVersions:N,topicName:e,onChange:function(e){var t=b.filter((function(t){return t.id===parseInt(e)}));p(t[0])},allVersions:b,title:r.title,created:r.created,lastModified:d.created,image:r.image,text:d.text,like:r.like,confirm:d.confirm,imageConfirm:r.image_confirm,author:r.author,source:r.source}):l.a.createElement("div",{className:"text-center pt-4",style:{height:"80vh"}},l.a.createElement(T,{show:z,onExit:function(){j(null),C(),N()}})))):l.a.createElement(u,{left:l.a.createElement("div",null,l.a.createElement("h3",null,e),l.a.createElement("h3",null,"Nie znaleziono artuku\u0142u o takiej nazwie!"),l.a.createElement("p",null,"Upewnij si\u0119 \u017ce podany adres url jest poprawny oraz czy materia\u0142 nie zosta\u0142 usuni\u0119ty.")),height:"80vh"})}var be=he()(),Ee=function(e){Object(le.a)(a,e);var t=Object(re.a)(a);function a(e){var n;return Object(ae.a)(this,a),(n=t.call(this,e)).onChange=function(e){n.setState({editorState:e})},n.handleKeyCommand=function(e){var t=ue.RichUtils.handleKeyCommand(n.state.editorState,e);return t?(n.onChange(t),"handled"):"not-handled"},n.blocks=Object(ye.a)(e.text),n.state={editorState:ue.EditorState.createWithContent(n.blocks),editMode:!1,saved:!1,like:e.like,success:!1},n.focus=function(){return n.refs.editor.focus()},n.onTab=function(e){return n._onTab(e)},n.toggleBlockType=function(e){return n._toggleBlockType(e)},n.toggleInlineStyle=function(e){return n._toggleInlineStyle(e)},n}return Object(ne.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.text!==e.text&&(this.blocks=Object(ye.a)(this.props.text),this.setState({editorState:ue.EditorState.createWithContent(this.blocks)}))}},{key:"_onTab",value:function(e){this.onChange(ue.RichUtils.onTab(e,this.state.editorState,4))}},{key:"_toggleBlockType",value:function(e){this.onChange(ue.RichUtils.toggleBlockType(this.state.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(ue.RichUtils.toggleInlineStyle(this.state.editorState,e))}},{key:"render",value:function(){var e=this,t=this.state.editorState,a="RichEditor-editor",n=t.getCurrentContent();return n.hasText()||"unstyled"!==n.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),this.state.editMode?l.a.createElement("div",{className:"col-12 col-lg-7 mx-auto py-5"},l.a.createElement("div",{className:"RichEditor-root"},l.a.createElement("div",{className:"text-right"},l.a.createElement("button",{className:"btn btn-sm btn-outline-primary mb-5",onClick:function(){var t=Object(ye.b)(e.state.editorState.getCurrentContent());(function(e,t){return i.a.post("".concat(m,"version/?format=json"),{slug:e,text:t})})(e.props.topicName,t).then((function(){e.setState({editMode:!1,editorState:ue.EditorState.createWithContent(e.blocks),success:!0}),e.props.fetchVersions()}))}},"Zaproponuj zmiany i wy\u015blij")),l.a.createElement("div",{className:"text-left"},l.a.createElement("button",{className:"btn btn-sm btn-outline-primary mb-2",onClick:function(){e.setState({editMode:!1,editorState:ue.EditorState.createWithContent(e.blocks)})}},"Powr\xf3t"),l.a.createElement("button",{className:"btn btn-sm btn-outline-success mb-2 ml-2",onClick:function(){var t=Object(ye.b)(e.state.editorState.getCurrentContent());localStorage.setItem(e.props.title,t),e.setState({saved:!0}),setTimeout((function(){e.setState({saved:!1})}),2e3)}},this.state.saved?l.a.createElement("span",null,"Zapisano..."):l.a.createElement("span",null,"Zapisz zawarto\u015b\u0107 lokalnie")),l.a.createElement("button",{className:"btn btn-sm btn-outline-success mb-2 ml-2",onClick:function(){var t=Object(ye.a)(localStorage.getItem(e.props.title));e.setState({editorState:ue.EditorState.createWithContent(t)})}},"Wczytaj zawarto\u015b\u0107")),l.a.createElement(je,{editorState:t,onToggle:this.toggleBlockType}),l.a.createElement(Ne,{editorState:t,onToggle:this.toggleInlineStyle}),l.a.createElement("div",{className:a,onClick:this.focus},l.a.createElement(pe.a,{blockStyleFn:we,customStyleMap:ke,editorState:t,handleKeyCommand:this.handleKeyCommand,onChange:this.onChange,onTab:this.onTab,placeholder:"Napisz co\u015b...",ref:"editor",plugins:[be],spellCheck:!0})))):l.a.createElement("div",{style:{minHeight:"80vh"}},l.a.createElement("div",{className:"col-12 mx-auto"},l.a.createElement("div",{className:"text-left py-2",style:{marginRight:-15,marginLeft:-15}},l.a.createElement(S.a,{className:"mt-3",show:this.state.success,variant:"success",dismissible:!0,onClose:function(){return e.setState({success:!1})}},l.a.createElement("p",null,"Pomy\u015blnie dodano now\u0105 wersj\u0119, znajdziesz j\u0105 jako pierwsz\u0105 z niezweryfikowanych."),l.a.createElement("p",null,"Zostanie ona z czasem przegl\u0105dni\u0119ta i dodana b\u0105d\u017a usuni\u0119ta.")),l.a.createElement("div",{className:"pb-1"},l.a.createElement("button",{className:"btn btn-primary btn-sm mr-2",onClick:function(){e.setState({editMode:!0})}},"Edytuj"),this.props.confirm?l.a.createElement(E.a,{className:"mr-1",color:"green",icon:b.b}):l.a.createElement(E.a,{className:"mr-1",color:"red",icon:b.d}),this.props.imageConfirm?l.a.createElement(E.a,{className:"mr-1",color:"green",icon:b.b}):l.a.createElement(E.a,{className:"mr-1",color:"red",icon:b.d}),this.props.confirm?l.a.createElement("span",null):l.a.createElement("span",{style:{color:"red"},className:"small"},"Artyku\u0142 niezweryfikowany"),l.a.createElement("button",{onClick:function(){var t;localStorage.getItem("".concat(e.props.topicName,"-like"))||(t=e.props.topicName,i.a.post("".concat(m,"article/").concat(t,"/like/?format=json"))).then((function(){localStorage.setItem("".concat(e.props.topicName,"-like"),"true"),e.setState({like:e.state.like+1})}))},className:"btn btn-default btn-sm"},this.state.like," ",l.a.createElement(E.a,{color:"blue",icon:b.c}))),l.a.createElement(me,{onChange:this.props.onChange,allVersions:this.props.allVersions}))),l.a.createElement("div",{className:"text-center"},l.a.createElement("h1",{style:{fontSize:60},className:"my-4"},this.props.title)),l.a.createElement("div",{className:"my-1",style:{}}),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-11 col-md-8 offset-md-1 col-lg-7 offset-lg-2"},l.a.createElement("div",{className:"RichEditor-editor mb-5",style:{marginRight:-15,marginLeft:-15}},l.a.createElement(pe.a,{blockStyleFn:we,customStyleMap:ke,editorState:this.state.editorState,readOnly:!0,plugins:[be],onChange:function(t){return e.setState({editorState:t})}}))),l.a.createElement("div",{className:"col-3"},l.a.createElement("div",{className:"d-none d-lg-block"},this.props.imageConfirm?l.a.createElement("figure",{className:"figure"},l.a.createElement("img",{className:"img-fluid",src:s+this.props.image,alt:"title"}),l.a.createElement("figcaption",{className:"figure-caption"},"\u0179r\xf3d\u0142o: ",this.props.source?this.props.source:"Nieznane")):l.a.createElement("div",null,l.a.createElement("figcaption",{className:"figure-caption"},"Zdj\u0119cie niezwerfikowane."))))))}}]),a}(l.a.Component),ke={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function we(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var ve=function(e){Object(le.a)(a,e);var t=Object(re.a)(a);function a(){var e;return Object(ae.a)(this,a),(e=t.call(this)).onToggle=function(t){t.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(ne.a)(a,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),l.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),a}(l.a.Component),ze=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}],je=function(e){var t=e.editorState,a=t.getSelection(),n=t.getCurrentContent().getBlockForKey(a.getStartKey()).getType();return l.a.createElement("div",{className:"RichEditor-controls"},ze.map((function(t){return l.a.createElement(ve,{key:t.label,active:t.style===n,label:t.label,onToggle:e.onToggle,style:t.style})})))},Ce=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],Ne=function(e){var t=e.editorState.getCurrentInlineStyle();return l.a.createElement("div",{className:"RichEditor-controls"},Ce.map((function(a){return l.a.createElement(ve,{key:a.label,active:t.has(a.style),label:a.label,onToggle:e.onToggle,style:a.style})})))},Se=function(e){var t=e.url,a=e.text,n=e.small;return l.a.createElement("a",{href:t,rel:"noopener noreferrer",target:"_blank",className:n?"":"footer-link",style:n?{fontSize:"x-small"}:{}},a)};function Oe(){var e=l.a.createElement("div",{style:{paddingTop:"4%"},className:"col-12 col-md-9 col-lg-6 mx-auto"},l.a.createElement("p",{className:"contact-title"},"INFORMACJE"),l.a.createElement("p",{className:"contact"},"Strona po\u015bwi\u0119cona tw\xf3rczo\u015bci"," ",l.a.createElement(Se,{url:"https://www.ursulakleguin.com/biography",text:"Ursuli Le Guin"}),". Ka\u017cda osoba mo\u017ce dodawa\u0107 nowe artyku\u0142y lub edytowa\u0107 istniej\u0105ce, wpisywane tre\u015bci nie mog\u0105 by\u0107 wulgarne lub narusza\u0107 prawa i zasad wsp\xf3\u0142\u017cycia spo\u0142ecznego. Domy\u015blnie pokazywane s\u0105 jedynie artyku\u0142y i ich wersje zweryfikowane. Serwis nie korzysta z cookies, nie zbierane s\u0105 \u017cadne wra\u017cliwe dane, przechowuje jedynie niewielk\u0105 ilo\u015b\u0107 niezb\u0119dnych do prawid\u0142owego funkcjonowania strony danych w przegl\u0105darce u\u017cytkownika, np. dane o polubionych artyku\u0142ach w"," ",l.a.createElement(Se,{url:"https://developer.mozilla.org/pl/docs/Web/API/Window/localStorage",text:"Local Storage"}),"."),l.a.createElement("p",{className:"contact-title"},"KONTAKT"),l.a.createElement("p",{className:"contact"},"rafal.safin12@gmail.com"),l.a.createElement("br",null),"S\u0105 pewne mury, kt\xf3rych nie nale\u017cy budowa\u0107. S\u0105 pewne granice, kt\xf3rych nie powinno si\u0119 przekracza\u0107. Zapali\u0107 \u015bwiec\u0119 znaczy rzuci\u0107 cie\u0144, niebezpiecznie jest zmieni\u0107 cho\u0107 u\u0142amek \u015bwiata nie wiedz\u0105c jakie dobro i z\u0142o wywo\u0142a ten czyn. W \u015bwiecie Ziemiomorza, ka\u017cdy ma dwa imiona, jedno u\u017cytkowe, drugie prawdziwe. Zna\u0107 czyje\u015b prawdziwe imi\u0119 znaczy mie\u0107 nad nim wielk\u0105 w\u0142adz\u0119, zdradzenie go jest oznak\u0105 mi\u0142o\u015bci i zaufania. Ged, p\xf3\u017aniejszy Arcymag Ziemiomorza znany jako Krogulec, pierwsze kroki na drodze, kt\xf3r\u0105 kroczy\u0142 ca\u0142e \u017cycie - na drodze magii, stawia\u0142 wzywaj\u0105c soko\u0142y ich prawdziwym imieniem, na kt\xf3re musia\u0142y si\u0119 zjawi\u0107. Na pocz\u0105tku zdawa\u0142a si\u0119 ona szerokim, jasnym go\u015bci\u0144cem. Wydawa\u0142o si\u0119, \u017ce mag to kto\u015b, kto potrafi uczyni\u0107 wszystko. A prawda jest taka, \u017ce im bardziej ro\u015bnie prawdziwa moc cz\u0142owieka i poszerza si\u0119 jego wiedza, tym bardziej zw\u0119\u017ca si\u0119 droga, kt\xf3r\u0105 mo\u017ce kroczy\u0107; a\u017c wreszcie niczego ju\u017c nie wybiera, lecz czyni tylko i wy\u0142\u0105cznie to, co musi czyni\u0107...",l.a.createElement("br",null),l.a.createElement("br",null),"\xa9 2020 ",l.a.createElement(Se,{url:"https://www.rafsaf.pl/",text:"rafsaf.pl"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Se,{small:"true",url:"".concat(s,"/admin/login/"),text:"ADMIN PANEL"}));return l.a.createElement("footer",null,l.a.createElement(u,{height:"300px",font:"normal",background:"#002a32",left:e,lg:5}))}function xe(){var e=Object(g.f)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function Te(){return l.a.createElement("div",{className:"app"},l.a.createElement(h.a,{hashType:"noslash"},l.a.createElement(xe,null),l.a.createElement(d.a,{fixed:"top",id:"main-nav",collapseOnSelect:!0,expand:"lg",className:"nav-bg",variant:"dark"},l.a.createElement(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),l.a.createElement(d.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(p.a,{className:"mx-auto"},l.a.createElement(p.a.Link,{className:"nav-link",as:h.b,to:"/home"},"ZIEMIOMORZE"),l.a.createElement(p.a.Link,{className:"nav-link",as:h.b,to:"/articles"},"ARTYKU\u0141Y"),l.a.createElement(p.a.Link,{className:"nav-link",as:h.b,to:"/add"},"DODAJ STRON\u0118")))),l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",component:R}),l.a.createElement(g.a,{path:"/home",component:R}),l.a.createElement(g.a,{path:"/articles",component:Q}),l.a.createElement(g.a,{path:"/add",component:te}),l.a.createElement(g.a,{path:"/:topicName",component:fe})),l.a.createElement("footer",null,l.a.createElement(Oe,null))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[262,1,2]]]);
//# sourceMappingURL=main.4ff1fb1c.chunk.js.map